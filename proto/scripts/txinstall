#/bin/bash
# First, cd to the directory you want to put the "tuplex" repository directory.

###################
## Install the packages with the build tools needed to build the tuplex compiler:
sudo apt-get update
sudo apt-get install git cmake make gcc g++ flex bison


###################
## Install LLVM 5.0, also needed to build Tuplex:

# Required for add-apt-repository (needed for LLVM installation):
sudo apt-get install software-properties-common

# Install LLVM 5.0:
# !!!!! Note: Check http://apt.llvm.org/ for Linux flavors other than Ubuntu Xenial (16.04)
sudo add-apt-repository 'deb http://apt.llvm.org/xenial/ llvm-toolchain-xenial-5.0 main'
wget -O - https://apt.llvm.org/llvm-snapshot.gpg.key|sudo apt-key add -
sudo apt-get update
sudo apt-get install llvm-5.0 llvm-5.0-dev

# Add LLVM 5.0 to the command path:
# !!!!! To make this permament for all bash sessions, it can for example be appended to your ~/.bashrc file.
export PATH=$PATH:/usr/lib/llvm-5.0/bin


###################
## Get and build Tuplex:

# Clone the tuplex repository to the current directory:
git clone https://github.com/TuplexLanguage/tuplex.git

# Build the Tuplex compiler:
cd tuplex/proto
cmake .
make
